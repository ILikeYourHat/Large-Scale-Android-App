apply plugin: "com.jraska.module.graph.assertion"

moduleGraphAssert {
    maxHeight = 3
    allowed = [
            'Feature -> Contract',
            'App -> Feature',
            'App -> Tool',
            'Feature -> Tool',
            'Feature -> SubFeature',
            'SubFeature -> Tool',
            'Tool -> Tool',
    ]
}

tasks.matching { ["generateModulesGraphStatistics", "generateModulesGraphvizText"].contains(it.name) }
        .configureEach {notCompatibleWithConfigurationCache("ModuleGraphAssert not yet ready") }
